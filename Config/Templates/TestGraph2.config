[tool1]
    module          = SamtoolsIndex

[tool2]
    module          = SamtoolsFlagstat
    input_from      = tool1
    final_output    = flagstat

[tool3]
    module          = SamtoolsDepth
    input_from      = tool1
    split           = True
    split_module    = SamtoolsDepthSplitter
    merge_module    = SamtoolsDepthMerge
    [[args]]
        target_bed  = exome_bed

[tool4]
    module          = BedtoolsCaptureEfficiency
    input_from      = tool1
    [[args]]
        target_bed  = exome_bed

[tool5]
    module          = PicardInsertSizeMetrics
    input_from      = tool1
    final_output    = insert_size_histogram

[tool6]
    module          = BedtoolsCaptureEfficiency
    input_from      = tool1
    [[args]]
        target_bed = intergenic_bed

[tool7]
    module          = SummarizeSamtoolsFlagstat
    input_from      = tool2

[tool8]
    module          = SummarizeSamtoolsDepth
    input_from      = tool3

[tool9]
    module          = SummarizePicardInsertSizeMetrics
    input_from      = tool5

[tool10]
    module          = SummarizeBedtoolsCaptureEfficiency
    input_from      = tool4
    [[args]]
        target_type = Exonic

[tool11]
    module          = SummarizeBedtoolsCaptureEfficiency
    input_from      = tool6
    [[args]]
        target_type = Intronic

[tool12]
    module          = SummaryMerge
    input_from      = tool7, tool8, tool9, tool10, tool11
    final_output    = summary_file