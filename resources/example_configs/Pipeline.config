[paths]

    [[samtools]]
        file_type       = samtools
        path            = samtools
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/samtools_1.3.1
        is_executable   = True

    [[bwa]]
        file_type       = bwa
        path            = bwa
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/bwa_0.7.15
        is_executable   = True

    [[fastqc]]
        file_type       = fastqc
        path            = fastqc
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/FastQC_0.11.5

    [[java]]
        file_type       = java
        path            = bin/java
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/jdk_1.8.0.111
        is_executable   = True

    [[trimmomatic]]
        file_type       = trimmomatic
        path            = trimmomatic-0.36.jar
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/Trimmomatic_0.36/

    [[picard]]
        file_type       = picard
        path            = gs://davelab_data/tools/picard_2.8.2/picard.jar
        is_remote_path  = True

    [[gatk]]
        file_type       = gatk
        path            = GATK.jar
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/GATK_3.7/

    [[bedtools]]
        file_type       = bedtools
        path            = bin/bedtools
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/bedtools_2.26.0/
        is_executable   = True

    [[qc_parser]]
        file_type       = qc_parser
        path            = QCParser
        is_remote_path  = True
        containing_dir  = gs://davelab_data/tools/QCParser

    [[ref]]
        file_type       = ref
        path            = /ref/hg19/genome/ucsc.hg19.fasta

    [[adapters]]
        file_type       = adapters
        path            = gs://davelab_data/tools/Trimmomatic_0.36/adapters
        is_remote_path  = True

    [[dbsnp]]
        file_type       = dbsnp
        path            = /ref/hg19/dbsnp/dbsnp_149.vcf

    [[target_bed]]
        file_type       = target_bed
        path            = /ref/hg19/bed/transcriptome/sorted.V5regions.hg19.bed

    [[rnaseq_ref]]
        file_type       = rna_seq_ref
        path            = /ref/hg19/transcriptome/tophat/hg19
        is_basename     = True


[tools]

[[tool1]]
module          = FastQC
final_output    = R1_fastqc, R2_fastqc

[[tool2]]
module          = Trimmomatic
final_output    = trim_report, R1, R2

[[tool3]]
module          = FastQC
input_from      = tool2
final_output    = R1_fastqc, R2_fastqc

[[tool4]]
module          = BwaAligner
input_from      = tool2
final_output    = bam

[[tool5]]
module          = SamtoolsIndex
input_from      = tool4


[[tool6]]
module          = PicardMarkDuplicates
input_from      = tool5, tool4
final_output    = bam, MD_report

[[tool7]]
module          = SamtoolsIndex
input_from      = tool6

[[tool8]]
module          = GATKBaseRecalibrator
input_from      = tool7, tool6
final_output    = BQSR_report

[[tool9]]
module          = GATKHaplotypeCaller
input_from      = tool6, tool7, tool8
final_output    = gvcf

[[tool10]]
module          = GATKPrintReads
input_from      = tool8, tool6, tool7
final_output    = bam

[[tool11]]
module          = SamtoolsIndex
input_from      = tool10

[[tool12]]
module          = PicardInsertSizeMetrics
input_from      = tool10, tool11
final_output    = insert_size_report, insert_size_histogram

[[tool13]]
module          = SamtoolsDepth
input_from      = tool10, tool11

[[tool14]]
module          = BedtoolsCaptureEfficiency
input_from      = tool10, tool11

[[tool15]]
module          = SamtoolsFlagstat
input_from      = tool10, tool11

[[tool16]]
module          = SummarizeFastQC
input_from      = tool1
final_output    = summary_file

[[tool17]]
module          = SummarizeFastQC
input_from      = tool3
final_output    = summary_file

[[tool18]]
module          = SummarizeTrimmomatic
input_from      = tool2
final_output    = summary_file

[[tool19]]
module          = SummarizeSamtoolsFlagstat
input_from      = tool15
final_output    = summary_file

[[tool20]]
module          = SummarizeSamtoolsDepth
input_from      = tool13
final_output    = summary_file

[[tool21]]
module          = SummarizeBedtoolsCaptureEfficiency
input_from      = tool14
final_output    = summary_file

[[tool22]]
module          = SummarizePicardInsertSizeMetrics
input_from      = tool12
final_output    = summary_file

[[tool23]]
module          = SummaryMerge
input_from      = tool16, tool17, tool22, tool18, tool19, tool21, tool20
final_output    = summary_file




